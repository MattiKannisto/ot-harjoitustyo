#Functionalities
##Adding a new DNA fragment
When the user inserts a name and a sequence for the new DNA fragment and clicks 'Add new DNA fragment' button, following sequence of actions are carried out:
![image](https://github.com/MattiKannisto/ot-harjoitustyo/blob/master/dokumentaatio/sequence_chart.png)
The event handler for the button 'Add new DNA fragment' calls function 'try_to_create_new_dna_fragment_and_return_notification()' of DnaFragmentService with the parameters 'name' and 'sequence' that user had previously written in the text entries. The button is enabled only when these entries are not empty. DnaFragmentService then calls function 'find_by_name()' of DnaFragmentRepository with 'name' as a parameter. If a DNA fragment with that name is not found, a 'None' is returned. In such a case, DnaFragmentService calls its own function 'incorrect.letters.found' with 'sequence' as a parameter. If the DNA sequence contains only allowed letters ('A', 'T', 'C', 'G'), a booelan 'False' is returned and DnaFragmentService calls DnaFragmentRepository's function create() with 'name' and 'sequence' as parameters. DnaFragmentRepository then saves a new DNA fragment in the MySQL database using the given parameters. After this, DnaFragmentService returns a list of two elements (a notification text and a color or the notification text as strings) to the UI. UI uses this list to update its list of notifications by calling its own function add_notification() using the list returned by DnaFragmentService as a parameter. UI then calls its own function add_users_dna_fragments_dropdown_list(), which calls DnaFragmentService's function 'get_all_dna_fragments()' function which then calls DnaFragmentRepository's function 'find_all()' which is used to retrieve all DNA fragments from the database. This list of DNA fragments is then returned first to DnaFragmentService and then to UI, which uses it to update a dropdown list containing all DNA fragments of the user. Finally UI calls its own function 'update_notification_area()' after which the user is shown a notification that a new DNA fragment has been added. Since adding new DNA fragment was successful, the notification will be shown in green color.